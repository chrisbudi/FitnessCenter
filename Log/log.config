<log4net>
  <appender name="file-appender" type="log4net.Appender.FileAppender">
    <file value="log-file.txt" />
    <appendToFile value="true" />
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern
        value="%appdomain %utcdate{yyyy-MM-dd HH:mm:ss} %username %type %thread %timestamp %stacktracedetail %stacktrace %property
%ndc
%method
%message
%logger
%line
%level
%location
%identity
%file
%exception" />
    </layout>
  </appender>

  <appender name="AdoNetAppender" type="log4net.Appender.AdoNetAppender">
    <bufferSize value="1" />
    <connectionType
      value="System.Data.SqlClient.SqlConnection, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    <connectionString
      value="data source=.;initial catalog=fitnessDB;integrated security=false;persist security info=True;User ID=sa;Password=1" />
    <commandText
      value="INSERT INTO log  (
                                      [date], exception,
                                      [identity], level, 
                                      logger, message, 
                                      [timestamp], type, username, 
                                      utcdate, NamaTable, IdTable, NamaTransaksi
                                     ) 
                              VALUES (
                                      @date, @exception,
                                      @identity, @level, 
                                      @logger, @message,
                                      @timestamp, @type, @username, 
                                      @utcdate, @NamaTable, @IdTable, @NamaTransaksi
                                     )" />


    <parameter>
      <parameterName value="@date" />
      <dbType value="DateTime" />
      <layout type="log4net.Layout.RawTimeStampLayout" />
    </parameter>

    <parameter>
      <parameterName value="@exception" />
      <dbType value="String" />
      <size value="1000" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%exception" />
      </layout>
    </parameter>

    <parameter>
      <parameterName value="@identity" />
      <dbType value="String" />
      <size value="50" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%identity" />
      </layout>
    </parameter>

    <parameter>
      <parameterName value="@level" />
      <dbType value="String" />
      <size value="50" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%level" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@logger" />
      <dbType value="String" />
      <size value="50" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%logger" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@message" />
      <dbType value="String" />
      <size value="454751" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%message" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@timestamp" />
      <dbType value="String" />
      <size value="10" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%timestamp" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@type" />
      <dbType value="String" />
      <size value="200" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%type" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@username" />
      <dbType value="String" />
      <size value="50" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%username" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@utcdate" />
      <dbType value="DateTime" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%utcdate{yyyy-MM-dd HH:mm:ss}" />
      </layout>
    </parameter>

    <parameter>
      <parameterName value="@NamaTable" />
      <dbType value="String" />
      <size value="50" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{NamaTable}" />
      </layout>
    </parameter>

    <parameter>
      <parameterName value="@IdTable" />
      <dbType value="String" />
      <size value="50" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{IdTable}" />
      </layout>
    </parameter>

    <parameter>
      <parameterName value="@NamaTransaksi" />
      <dbType value="String" />
      <size value="50" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{NamaTransaksi}" />
      </layout>
    </parameter>

  </appender>

  <root>
    <level value="ALL" />
    <appender-ref ref="AdoNetAppender" />
    <!--<appender-ref ref="file-appender" />-->
    <!-- Uncomment when basic TextAppender is needed
      <appender-ref ref="file-appender" />
      -->
  </root>
</log4net>