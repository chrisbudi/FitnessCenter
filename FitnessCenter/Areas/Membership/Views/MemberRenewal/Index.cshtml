
@{

    ViewBag.Title = "Renewal Index";
}

<!-- BEGIN PAGE HEADER-->
<div class="page-head">
    <!-- BEGIN PAGE TITLE -->
    <div class="page-title">
        <h1>
            Renew <small>Member</small>
        </h1>
    </div>
</div>


@Html.Partial("_pageBreadcrumbs")

<!-- END PAGE HEADER-->
<!-- BEGIN PAGE CONTENT-->

<div class="portlet light">

    <div class="portlet-title">
        <div class="caption">
            <i class="icon-basket font-green-sharp"></i>
            <span class="caption-subject font-green-sharp bold uppercase">Member Listing</span>
            <span class="caption-helper">register member...</span>
        </div>
        <div class="actions">
            @*            <a class="btn btn-circle btn-default" href="@Url.Action("CreateMembership", "FastMembership")">*@
            @*                <i class="fa fa-plus"></i>*@
            @*                <span class="hidden-480">*@
            @*                    Add New Membership*@
            @*                </span>*@
            @*            </a>*@
        </div>
    </div>
    <div class="portlet-body">
        <div class="row margin-bottom-20">
            <div class="col-md-12">
                <table class="table table-striped table-bordered table-hover" id="TableMember">
                    <thead>
                        <tr role="row" class="heading">
                            <th>
                                No
                            </th>
                            <th>
                                MemberId
                            </th>
                            <th>
                                Name
                            </th>
                            <th>
                                Gender
                            </th>
                            <th>
                                Start Membership
                            </th>
                            <th>
                                End Membership
                            </th>
                            <th>
                                Address
                            </th>
                            <th>
                                Type
                            </th>
                            <th>
                                Action
                            </th>
                        </tr>
                        <tr role="row" class="filter">
                            <td></td>
                            <td>
                                <input type="text" class="form-control form-filter input-sm" name="columns[1]FilterSearch">
                            </td>
                            <td><input type="text" class="form-control form-filter input-sm" name="columns[2]FilterSearch"></td>
                            <td>

                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>
                                <div class="margin-bottom-5">
                                    <button class="btn btn-sm yellow filter-submit margin-bottom"><i class="fa fa-search"></i>Search</button>
                                </div>
                                <button class="btn btn-sm red filter-cancel"><i class="fa fa-times"></i>Reset</button>
                            </td>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- END PAGE CONTENT-->
@section Scripts {
    @Scripts.Render("~/bundle/script/datatable")
    @*1---------Reporting---------*@
    @Html.Partial("Report/ReportView")


    <script>
        var loadDDL = null;
        $(function () {
            //Metronic.init(); // init metronic core components
            //Layout.init(); // init current layout


            var grid = new window.Datatable();

            grid.init({
                src: $("#TableMember"),
                onSuccess: function (grid) {
                    //alert('sucsess');

                },
                onError: function (grid) {
                    //alert('fail');
                },
                loadingMessage: 'Loading...',
                dataTable: {
                    // here you can define a typical datatable settings from https://datatables.net/usage/options

                    // Uncomment below line("dom" parameter) to fix the dropdown overflow issue in the datatable cells. The default datatable layout
                    // setup uses scrollable div(table-scrollable) with overflow:auto to enable vertical scroll(see: assets/global/scripts/datatable.js).
                    // So when dropdowns used the scrollable div should be removed.
                    //"dom": "<'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'<'table-group-actions pull-right'>>r>t<'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'>>",
                    "lengthMenu": [
                        [10, 20, 50, 100, 150],
                        [10, 20, 50, 100, 150] // change per page values here
                    ],

                    "pageLength": 10, // default record count per page

                    "drawCallback": function (settings) {
//                        pageReporting.init('@Url.Action("ReportPage", "Reporting", new { area = "" })', $('.btnPrintAgreement'), '');
//                        pageReporting.init('@Url.Action("ReportPage", "Reporting", new { area = "" })', $('.btnPrintOR'), '');
                    },

                    "ajax": {
                        "url": "@Url.Action("MemberResult")", // ajax source
                    },

                    "columns": [
                        { "name": "No" },
                        { "name": "tMember.MemberNO" },
                        { "name": "tMember.tPerson.PNama" },
                        { "name": "tMember.tPerson.PGender" },
                        { "name": "MSTglMulai" },
                        { "name": "MSTglSelesai" },
                        { "name": "tMember.tPerson.PAlamat" },
                        { "name": "tMember.tMemberType.MemberType" },
                          {
                              "render": function (data) {
                                  var d = data;
                                  return "<a href='@Url.Action("RenewMembership")/" + d + "' class='btn btn-xs default btn-editable'>" +
                                      "<i class='fa fa-search'></i> Renew </a>";
                              },
                              "orderable": false,
                              "width": "5%"
                          },

                    ],
                    "order": [
                        [1, "asc"]
                    ] // set first column as a default sort by asc
                }
            });

            gridEvent.setEvent(grid);

        });
    </script>
}